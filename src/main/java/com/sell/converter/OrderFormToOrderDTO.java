package com.sell.converter;import com.google.gson.Gson;import com.google.gson.reflect.TypeToken;import com.sell.dataTransferObject.OrderDTO;import com.sell.dataobject.OrderDetail;import com.sell.enums.ResponseEnum;import com.sell.exception.SellException;import com.sell.form.OrderForm;import java.util.ArrayList;import java.util.List;/** * 将前端传递的orderForm表单转成数据传输对象orderDTO */public class OrderFormToOrderDTO {    /**     * orderForm转换成orderDTO     * @param orderForm     * @return     */    public static OrderDTO convert(OrderForm orderForm){        OrderDTO orderDTO = new OrderDTO();        orderDTO.setBuyerName(orderForm.getName());        orderDTO.setBuyerPhone(orderForm.getPhone());        orderDTO.setBuyerAddress(orderForm.getAddress());        orderDTO.setBuyerOpenid(orderForm.getOpenid());        Gson gson = new Gson();        List<OrderDetail> orderDetails = new ArrayList<>();        try {            //将json字符串转换成orderDTO List对象            orderDetails = gson.fromJson(orderForm.getItem(),new TypeToken<List<OrderDetail>>(){}.getType());        }catch (Exception e){            throw new SellException(ResponseEnum.PARAM_ERROR);        }        orderDTO.setOrderDetails(orderDetails);        return  orderDTO;    }}